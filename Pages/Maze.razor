@page "/maze"
@layout MainLayout

@inject IJSRuntime JS

<PageTitle>Maze</PageTitle>

<h3>🌀 Maze Game</h3>

<div class="mb-3">
    <label>Difficulty:</label>
    <select id="difficultySelect" class="form-select w-auto d-inline-block ms-2">
        <option value="easy">Easy</option>
        <option value="medium" selected>Medium</option>
        <option value="hard">Hard</option>
    </select>
</div>

<div style="position:relative;">
    <canvas id="mazeCanvas" width="600" height="400" style="cursor:pointer;"></canvas>
</div>

<div class="mt-3">
    <button class="btn btn-primary me-2" onclick="restartMaze()">🔄 Restart</button>
    <span class="ms-3">Moves: <strong id="moveCount">0</strong></span>
    <span class="ms-3">Time: <strong id="timer">0</strong> s</span>
</div>

<audio id="winSound" src="sounds/win.mp3"></audio>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("maze.init");
        }
    }
}
