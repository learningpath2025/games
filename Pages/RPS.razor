@page "/rps"
@using System

<PageTitle>Rock Paper Scissors</PageTitle>

<h3>Rock-Paper-Scissors</h3>

<p>Your Choice:</p>
<button @onclick='() => Play("Rock")'>Rock</button>
<button @onclick='() => Play("Paper")'>Paper</button>
<button @onclick='() => Play("Scissors")'>Scissors</button>

<p>@Result</p>

@code {
    private string Result;

    private void Play(string playerChoice)
    {
        var choices = new[] { "Rock", "Paper", "Scissors" };
        var rand = new Random();
        var computerChoice = choices[rand.Next(choices.Length)];

        if (playerChoice == computerChoice)
            Result = $"Draw! Both chose {playerChoice}.";
        else if ((playerChoice == "Rock" && computerChoice == "Scissors") ||
                 (playerChoice == "Paper" && computerChoice == "Rock") ||
                 (playerChoice == "Scissors" && computerChoice == "Paper"))
            Result = $"You Win! Computer chose {computerChoice}.";
        else
            Result = $"You Lose! Computer chose {computerChoice}.";
    }
}
